# OpenSSO Authorization
# set ":server: " to disable A&A
:authorization:
  :server: AA
  :free_request: #request-method not controlled by A&A
    - "GET"
    - "POST"
    - "HEAD"
    - "DELETE"
    - "PUT"
  :authenticate_request: #only for authenticated user
    - ""
  :authorize_request:  #only for authenticated and authorizeduser
    - ""
# Exceptions:
  :free_uris: #request-method for uri not controlled by A&A
    ? - :GET
    : - !ruby/regexp /http:\/\/ESCAPEDSERVER\/algorithm/
      - "http://SERVERNAME/model"
      - "http://SERVERNAME/dataset"
      - "http://SERVERNAME/validation"
      - !ruby/regexp /http:\/\/ESCAPEDSERVER\/validation\/resources/
      - !ruby/regexp /http:\/\/ESCAPEDSERVER\/validation\/[a-z,A-Z,\/,_\-]*$/
    ? - :GET
      - :POST
    : - !ruby/regexp /http:\/\/ESCAPEDSERVER\/toxcreate\/[a-z,A-Z,\/,_\-]*$/
      - !ruby/regexp /http:\/\/ESCAPEDSERVER\/task/
      - !ruby/regexp /http:\/\/ESCAPEDSERVER\/compound/
      - !ruby/regexp /sign_(in|out)$/
    ? - :PUT
    : - !ruby/regexp /http:\/\/ESCAPEDSERVER\/task/

  :authorize_exceptions: #request-method for uri only authenticated, no authorization
    ? - :POST
    : - !ruby/regexp /http:\/\/ESCAPEDSERVER\/algorithm/
      - "http://SERVERNAME/dataset"
      - "http://SERVERNAME/model"
      - "http://SERVERNAME/validation"
      - !ruby/regexp /http\:\/\/ESCAPEDSERVER\/validation\/[a-z,A-Z,\/,_\-]*$/
