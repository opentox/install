# OpenSSO Authorization
# set ":server: " to disable A&A
:authorization:
  :server: AA
  :free_request: #request-method not controlled by A&A
    - "GET"
    - "POST"
    - "HEAD"
    - "DELETE"
    - "PUT"
  :authenticate_request: #only for authenticated user
    - ""
  :authorize_request:  #only for authenticated and authorizeduser
    - ""
# Exceptions:
  :free_uris: #request-method for uri not controlled by A&A
    ? - :GET
    : - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/algorithm/
      - "http://SERVERNAMEPORT/model"
      - "http://SERVERNAMEPORT/dataset"
      - "http://SERVERNAMEPORT/validation"
      - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/validation\/resources/
      - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/validation\/[a-z,A-Z,\/,_\-]*$/
    ? - :GET
      - :POST
    : - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/toxcreate\/[a-z,A-Z,\/,_\-]*$/
      - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/task/
      - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/compound/
      - !ruby/regexp /sign_(in|out)$/
    ? - :PUT
    : - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/task/

  :authorize_exceptions: #request-method for uri only authenticated, no authorization
    ? - :POST
    : - !ruby/regexp /http:\/\/ESCAPEDSERVERPORT\/algorithm/
      - "http://SERVERNAMEPORT/dataset"
      - "http://SERVERNAMEPORT/model"
      - "http://SERVERNAMEPORT/validation"
      - !ruby/regexp /http\:\/\/ESCAPEDSERVERPORT\/validation\/[a-z,A-Z,\/,_\-]*$/
